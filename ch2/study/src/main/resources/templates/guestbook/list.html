<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="http://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>



    <th:block th:fragment="content">

    <div class="container" style="align-items:center; justify-content: center;">
        <br><br>
        <h1>GuestBook List Page</h1>
        <br>
        <span>
                <a th:href="@{/guestbook/register/new}"> 글 등록하기</a>
        </span>
        <br>

        <br>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>##</th>
                <th>title</th>
                <th>writer</th>
                <th>createdAt</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="dto : ${result.dtoList}">
                <th scope="row">[[${dto.gno}]]</th>
                <td>[[${dto.title}]]</td>
                <td>[[${dto.writer}]]</td>
                <td>[[${#temporals.format(dto.createdAt, 'yyyy/MM/dd')}]]</td>
            </tr>
            </tbody>

        </table>
    </div>
<br>
    <ul class="pagination h-100 justify-content-center align-items-center">

        <li class="page-item " th:if="${result.prev}">
            <a class="page-link" th:href="@{/guestbook/list(page=${result.start-1})}" tabinex="-1">Previous</a>
        </li>

        <li th:class=" 'page-item ' + ${result.page==page?'active':''} " th:each="page: ${result.pageList}">
            <a class="page-link" th:href="@{/guestbook/list(page=${page})}" >[[${page}]]</a>
        </li>

        <li class="page-item " th:if="${result.next}">
            <a class="page-link" th:href="@{/guestbook/list(page=${result.end+1})}" >Next</a>
        </li>

    </ul>


        <script th:inline="javascript">

            var msg = [[${msg}]];

            console.log(msg);

            // if(msg){
            //     $(".modal").modal();
            // }
            // var searchForm = $("#searchForm");
            //
            // $('.btn-search').click(function(e){
            //
            //     searchForm.submit();
            //
            // });
            //
            // $('.btn-clear').click(function(e){
            //
            //     searchForm.empty().submit();
            //
            // });


        </script>

    </th:block>

